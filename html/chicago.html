<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Chicago </title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/cards.css">

  <link rel="stylesheet" href="about.html">
  <!-- <script src="https://restaurants-near-me-usa.p.rapidapi.com/restaurants/all-state"></script> -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bungee+Shade&family=Roboto+Mono&display=swap" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>

<body style="background-color: #292929">
  <div class="title">
    <a class="title">USA Eatery</a>
  </div>


  <div id="mySidenav" class="sidenav">
    <!-- <script src="index.js"></script> -->
    <a href="javascript:void(0)" class="closeButton" onclick="closeNav()">&times;</a>
    <a href="index.html">Home</a>
    <a href="about.html">About Us</a>
    <a href="state.html">States</a>
    <a href="chicago.html"> Chicago</a>
    <a href="login.html"> Login</a>
    <a href="signup.html"> SignUp</a>
  </div>


<!-- fix logo and style it -->
  <img class="usa-logo" src="../images/usaLogo.png" alt="">


  <div class="restaurants">



  </div>


    <!-- side nav bar icon -->
    
  <span style="font-size:30px;cursor:pointer; position: absolute;color: #878787; top: 0;" onclick="openNav()">&#9776;  </span>
  
  <script src="../js/index.js"></script>
  <script src="../js/nav.js"></script>

</body>

</html>

<script> 

const APIHost = "restaurants-near-me-usa.p.rapidapi.com";
const APIKey = "af093498d8mshd4e95e06b3ea3aap1d9410jsn8864d1b68297";


for(let i = 0; i < 4; i++){

  var requestURL = "https://restaurants-near-me-usa.p.rapidapi.com/restaurants/location/state/IL/city/chicago/" + i;

  let settings = {
    "async": true,
    "crossDomain": true,
    "url": requestURL,
    "method": "GET",
    "headers": {
      "X-RapidAPI-Host": APIHost,
      "X-RapidAPI-Key": APIKey 
    }

  };

  getRestaurants(settings);

}


function getRestaurants(settings){


  $.ajax(settings).done(function (restaurants) {

    restaurants.forEach(restaurant => {

      var name = restaurant.restaurantName
      var addr = restaurant.address
      var zipcode = restaurant.zipCode
      var phone = restaurant.phone

      var element = '<div class="restaurantCard">' +  name + '<br>' + addr + '<br>' + zipcode + '<br>' + phone +'</div>';
      $('.restaurants').append(element);

      
    });

  });

}

// function getStates(settings){
//   $.ajax(settings).done(function (states){
//     states.forEach(state =>{
//       var st = state.stateName
//       var element
//     })
//   })
// }

</script>